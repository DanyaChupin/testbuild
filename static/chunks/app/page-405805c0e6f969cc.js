(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{1104:function(e,t,i){Promise.resolve().then(i.bind(i,2410))},2410:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return eo}});var n=i(7437),s=i(2265),r=i(7793),o=i.n(r);function l(){return(0,n.jsx)("h1",{className:o().logo,children:"ЛУЧ"})}var a=i(6480),c=i.n(a),d=i(6919),u=i.n(d);function _(e){let{children:t,column:i}=e;return(0,n.jsx)("div",{className:c()(u().flex,{[u().column]:i}),children:t})}var h=i(703),m=i(4652),p=i.n(m);function g(e){let{isPrevies:t,removeVideo:i}=e,r=(0,s.useRef)(null),[o,l]=(0,s.useState)(!1);return(0,n.jsxs)("div",{className:p().videoPlayer,children:[(0,n.jsx)("video",{src:"/yoto.mp4",autoPlay:t,ref:r,className:p().video}),(0,n.jsx)("button",{onClick:()=>{r.current&&(r.current.paused?r.current.play():r.current.pause(),l(!o))},className:p().controls__togglePlay,draggable:!1,children:(0,n.jsx)(h.default,{src:o?"/images/play.svg":"/images/pause.svg",width:30,height:37,alt:o?"воспроизвести":"пауза",draggable:!1})}),(0,n.jsxs)("div",{className:p().controls,children:[!t&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:p().controls__time,children:"00.00"}),(0,n.jsx)("div",{className:p().controls__progress,children:(0,n.jsx)("input",{type:"range",className:p().progress})}),(0,n.jsx)("div",{className:p().controls__videoLength,children:"10.29"}),(0,n.jsx)("div",{className:p().controls__quality,children:"HD"}),(0,n.jsx)("button",{className:p().controls__volume,children:(0,n.jsx)(h.default,{src:"/images/volume.svg",width:22,height:22,alt:"громкость"})}),(0,n.jsx)("button",{className:p().controls__fullScreen,children:(0,n.jsx)(h.default,{src:"/images/fullscreen.svg",width:-6,height:20,alt:"полный экран"})})]}),(0,n.jsx)("button",{className:p().controls__volume,onClick:()=>{r.current&&(r.current.muted=!r.current.muted)},children:(0,n.jsx)(h.default,{src:"/images/volume.svg",width:20,height:20,alt:"громкость"})}),(0,n.jsx)("button",{className:p().controls__close,onClick:i,draggable:!1,children:(0,n.jsx)(h.default,{src:"/images/close.svg",width:20,height:20,alt:"закрыть",draggable:!1})})]})]})}let x=(0,s.createContext)({activeVideo:[],setActiveVideo:()=>{}}),v=()=>(0,s.useContext)(x);var f=i(3876),j=i.n(f);function w(e){let{video:t}=e,{generateRandomSize:i,position:r,isDragging:o,handleMouseDown:l,handleTouchStart:a}=function(){let e=window.screen,t=e.width/2,i=e.height/2,[n,r]=(0,s.useState)({x:Math.floor(Math.random()*t),y:Math.floor(100*Math.random()+i)-200}),[o,l]=(0,s.useState)(!1);return{generateRandomSize:function(){let i=Math.floor(Math.random()*(e.height-308+1)+208),n=Math.floor(Math.random()*(t-266+1)+266);return n>e.width&&(n/=2),i>n&&(i=n),{width:n,height:i}},position:n,isDragging:o,handleMouseDown:e=>{l(!0);let t=e.clientX-n.x,i=e.clientY-n.y,s=e=>{r({x:e.clientX-t,y:e.clientY-i})},o=()=>{l(!1),document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",o)};document.addEventListener("mousemove",s),document.addEventListener("mouseup",o)},handleTouchStart:e=>{let t=e.touches[0].clientX-n.x,i=e.touches[0].clientY-n.y,s=e=>{r({x:e.touches[0].clientX-t,y:e.touches[0].clientY-i})},o=()=>{document.removeEventListener("touchmove",s),document.removeEventListener("touchend",o)};document.addEventListener("touchmove",s),document.addEventListener("touchend",o)}}}(),{activeVideo:c,setActiveVideo:d}=v(),[u,_]=(0,s.useState)(i());return console.log(r),console.log(i()),(0,n.jsx)("div",{className:j().videoPrevies,style:{left:r.x,top:r.y,cursor:o?"grabbing":"grab",width:u.width,height:u.height},onMouseDown:l,onTouchStart:a,children:(0,n.jsx)(g,{isPrevies:!0,removeVideo:()=>{d(c.filter(e=>e.id!==t.id))}})})}var N=i(3040),S=i.n(N);function b(e){let{children:t}=e;return(0,n.jsx)("form",{className:S().form,children:t})}var k=i(1873),y=i.n(k);function L(e){let{pathIcon:t,...i}=e;return(0,n.jsxs)("div",{className:y().inputField__wrapper,children:[t&&(0,n.jsx)(h.default,{className:y().inputField__icon,width:16,height:16,src:t,alt:"иконка",draggable:!1}),(0,n.jsx)("input",{...i,className:y().inputField__input})]})}var V=i(2741),D=i.n(V);function F(e){let{isOpen:t,children:i}=e;return(0,n.jsx)("div",{className:c()(D()["select-wrapper"],{[D().open]:t}),children:(0,n.jsx)("ul",{className:D().select,children:i})})}var C=i(8792),P=i(413),E=i.n(P);function I(e){let{onClick:t,pathIcon:i,option:s}=e;return(0,n.jsx)("li",{className:E()["select-item"],children:(0,n.jsxs)(C.default,{className:E()["select-item__link"],onClick:t&&t,href:s.to,children:[(0,n.jsx)(h.default,{className:E()["select-item__icon"],width:16,height:16,src:i,alt:"поиск"}),(0,n.jsx)("p",{className:E()["select-item__text"],children:s.text})]})})}let A=[{text:"Что такое ЛУЧ?",to:""},{text:"Каталог фильмов",to:"/catalog"}];var B=i(9830),M=i.n(B);function R(e){let{children:t}=e;return(0,n.jsx)("footer",{className:M().footer,children:t})}var U=i(4381),X=i.n(U);function O(e){let{returnBackUrl:t,onClick:i}=e;return(0,n.jsx)(C.default,{className:X().backLink,onClick:i&&i,href:t,children:(0,n.jsx)(h.default,{src:"/images/back.svg",width:30,height:30,alt:"Назад"})})}var z=i(6580),K=i.n(z);function Y(){let[e,t]=(0,s.useState)("RU"),i=()=>{"RU"===e?t("EN"):t("RU")};return(0,n.jsxs)("div",{className:K().buttonLang,children:[(0,n.jsx)("button",{onClick:i,className:c()(K().button,{[K().bold]:"RU"===e}),children:"RU"}),(0,n.jsx)("span",{className:K().separation,children:"/"}),(0,n.jsx)("button",{onClick:i,className:c()(K().button,{[K().bold]:"EN"===e}),children:"EN"})]})}var G=i(9056),H=i.n(G);function T(e){let{dragVideo:t,activeVideo:i,setActiveVideo:r}=e,[o,a]=(0,s.useState)(""),[d,u]=(0,s.useState)(!1),[h,m]=(0,s.useState)(!1),[p,g]=(0,s.useState)(!1),x=e=>{e.preventDefault(),g(!0)};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("main",{onDragEnter:x,onDragOver:x,onDrop:e=>{e.preventDefault(),t.id&&r(e=>[...e,t]),g(!1)},onDragLeave:e=>{e.preventDefault(),g(!1)},className:c()(H().wrapper,{[H().activeDrag]:p}),children:i.length?i.map(e=>(0,n.jsx)(w,{video:e},e.id)):(0,n.jsxs)(_,{column:!0,children:[(0,n.jsx)(l,{}),h?(0,n.jsx)("p",{className:H().description,children:"	— это попытка консолидации и создания независимых фильмов,свободных от строгих рамок."}):(0,n.jsxs)(b,{children:[(0,n.jsx)(L,{value:o,onChange:e=>{a(e.target.value)},onFocus:()=>u(!0),onBlur:()=>u(!1),pathIcon:"/images/search.svg"}),(0,n.jsx)(F,{isOpen:d,children:A.map(e=>(0,n.jsx)(I,{onClick:"Что такое ЛУЧ?"===e.text?()=>{m(!h)}:()=>{},pathIcon:"/images/search.svg",option:e},e.text))})]})]})}),(0,n.jsx)(R,{children:i.length?(0,n.jsx)(O,{returnBackUrl:"",onClick:()=>r([])}):(0,n.jsxs)(n.Fragment,{children:[h&&(0,n.jsx)(O,{returnBackUrl:"",onClick:()=>m(!h)}),(0,n.jsx)(Y,{})]})})]})}function Z(){let[e,t]=(0,s.useState)({width:0,height:0});return(0,s.useLayoutEffect)(()=>{let e=()=>{if(window.innerWidth){t({width:window.innerWidth,height:window.innerHeight});return}};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),{screenSize:e,isScreenSm:e.width>=320,isScreenMd:e.width>=640,isScreenLg:e.width>=768,isScreenXl:e.width>=1024,isScreenXxl:e.width>=1440}}var Q=i(2170),W=i.n(Q);function J(e){let{video:t,setDragVideo:i,activeVideo:r,setActiveVideo:o}=e,[l,a]=(0,s.useState)(!1),{isScreenLg:d}=Z(),u=d?4:2;(0,s.useEffect)(()=>{a(!!r.find(e=>e.id===t.id))},[r,t.id]);let _=()=>{l||i(t)},m=()=>{if(l){o(r.filter(e=>e.id!==t.id)),a(!1);return}r.length!==u&&(o(e=>[...e,t]),a(!0))};return(0,n.jsx)(n.Fragment,{children:l?(0,n.jsx)(h.default,{onClick:m,className:W().slideItem,width:70,height:54.71,src:"/images/net.png",alt:"photo",draggable:!1}):(0,n.jsx)(h.default,{onClick:m,onTouchCancel:_,onDragStart:_,className:c()(W().slideItem,W().draggable),width:70,height:54.71,src:t.src,priority:!0,draggable:!0,alt:"photo"})})}var q=i(6882),$=i.n(q);function ee(e){let{sideLeft:t,videoArray:i,setDragVideo:s}=e,{activeVideo:r,setActiveVideo:o}=v();return(0,n.jsxs)("div",{className:$().slide,children:[(0,n.jsx)("div",{className:c()($()["slide-wrapper"],{[$()["slide-left"]]:t,[$()["slide-right"]]:!t}),children:i.map(e=>(0,n.jsx)(J,{video:e,setDragVideo:s,activeVideo:r,setActiveVideo:o},e.id))}),(0,n.jsx)("div",{className:c()($()["slide-wrapper"],{[$()["slide-left"]]:t,[$()["slide-right"]]:!t}),children:i.map(e=>(0,n.jsx)(J,{video:e,activeVideo:r,setActiveVideo:o,setDragVideo:s},e.id))})]})}var et=i(5432),ei=i.n(et);function en(e){let{setDragVideo:t,hidden:i}=e,s=[{id:"1",title:"Video",src:"/photo.png"},{id:"2",title:"Video",src:"/photo.png"},{id:"3",title:"Video",src:"/photo.png"},{id:"4",title:"Video",src:"/photo.png"},{id:"5",title:"Video",src:"/photo.png"},{id:"6",title:"Video",src:"/photo.png"},{id:"7",title:"Video",src:"/photo.png"},{id:"8",title:"Video",src:"/photo.png"},{id:"9",title:"Video",src:"/photo.png"}];return(0,n.jsxs)("div",{className:c()(ei().slider,{[ei().hidden]:i}),children:[(0,n.jsx)("div",{className:ei().first,children:(0,n.jsx)(ee,{sideLeft:!0,setDragVideo:t,videoArray:s})}),(0,n.jsx)("div",{children:(0,n.jsx)(ee,{sideLeft:!1,setDragVideo:t,videoArray:s})})]})}var es=i(103),er=i.n(es);function eo(){let[e,t]=(0,s.useState)({id:"",src:"",title:""}),{isScreenXl:i}=Z(),[r,o]=(0,s.useState)([]);return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(x.Provider,{value:{activeVideo:r,setActiveVideo:o},children:[(0,n.jsx)(en,{setDragVideo:t,hidden:4===r.length}),(0,n.jsx)("div",{className:er().home,children:(0,n.jsx)(T,{dragVideo:e,activeVideo:r,setActiveVideo:o})})]})})}},103:function(e){e.exports={home:"Home_home___fL0o"}},1873:function(e){e.exports={inputField__wrapper:"InputField_inputField__wrapper__gwnVz",inputField__icon:"InputField_inputField__icon__jkblh",inputField__input:"InputField_inputField__input__kSH8W"}},7793:function(e){e.exports={logo:"Logo_logo__5xyYV"}},4381:function(e){e.exports={backLink:"BackLink_backLink__yl_Oc",opacity:"BackLink_opacity__pBG_K"}},6580:function(e){e.exports={buttonLang:"ButtonLang_buttonLang__LLB0D",button:"ButtonLang_button__izmw5",bold:"ButtonLang_bold__PAChr"}},9056:function(e){e.exports={wrapper:"DragDropSearch_wrapper__iUGAZ",activeDrag:"DragDropSearch_activeDrag__XOur3",description:"DragDropSearch_description__WTxJ7",opacity:"DragDropSearch_opacity__HtY_b"}},9830:function(e){e.exports={footer:"Footer_footer__7blBZ"}},3040:function(e){e.exports={form:"SearchForm_form__QZ9DF",opacity:"SearchForm_opacity__au4OA"}},2741:function(e){e.exports={"select-wrapper":"Select_select-wrapper__ZfDGj",select:"Select_select__ujcR9",open:"Select_open__0jPti"}},413:function(e){e.exports={"select-item":"SelectItem_select-item__rkKXj","select-item__link":"SelectItem_select-item__link__jQR1X","select-item__text":"SelectItem_select-item__text__G7FMg","select-item__icon":"SelectItem_select-item__icon__rsgUQ"}},6882:function(e){e.exports={slide:"Slide_slide___sL_e","slide-wrapper":"Slide_slide-wrapper__Kkz_d","slide-right":"Slide_slide-right__hPp_c","slide-left":"Slide_slide-left__2JxfI"}},2170:function(e){e.exports={slideItem:"SlideItem_slideItem__1yIA_",draggable:"SlideItem_draggable__CAoUA"}},5432:function(e){e.exports={slider:"Slider_slider__cbQ3A",first:"Slider_first___g3_9",hidden:"Slider_hidden__14G_m"}},6919:function(e){e.exports={flex:"FlexBox_flex__eMmuc",column:"FlexBox_column__iLpxT"}},4652:function(e){e.exports={videoPlayer:"VideoPlayer_videoPlayer__k2_4e",controls__togglePlay:"VideoPlayer_controls__togglePlay__n4XK9",controls:"VideoPlayer_controls__KoCvi",video:"VideoPlayer_video__r3Z3R"}},3876:function(e){e.exports={videoPrevies:"VideoPrevies_videoPrevies__KuAEn"}}},function(e){e.O(0,[866,971,69,744],function(){return e(e.s=1104)}),_N_E=e.O()}]);